DATA SEGMENT
MENU DB 10,13,"--------------------------------------------"
DB 10,13,"1.HEX TO BCD CONVERSION"
DB 10,13,"2.BCD TO HEX CONVERSION"
DB 10,13,"3.EXIT"
DB 10,13,"---------------------------------------------$"
M1 DB 10,13,"ENTER THE 4 DIGIT HEXA NO :$"
M2 DB 10,13,"DECIMAL NO IS:$"
M3 DB 10,13,"ENTER YOUR CHOICE:$"
M4 DB 10,13,"ENTER THE 4 DIGIT BCD NO:$"
M5 DB 10,13,"EQUIVALANT HEXADECIMAL NO IS:$"
M6 DB 10,13,"INVALID NUMBER ENTER!!!$"
TEMP1 DB ?
TEMP DW ?
HEX DW ?
NO DW ?
REM DW ?
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE,DS:DATA
START:
MOV AX,DATA
MOV DS,AX

MAIN:MOV AH,09H
LEA DX,MENU
INT 21H

MOV AH,09H
LEA DX,M3
INT 21H

MOV AH,01H
INT 21H

CMP AL,31H
JE W1
CMP AL,32H
JE W2
CMP AL,33H
JE EXIT

W1: CALL ACCEPT
CALL HEXTOBCD
JMP MAIN
W2:CALL ACCEPT1
JMP MAIN

EXIT: MOV AH,4CH
INT 21H
ACCEPT PROC
MOV AH,09H
LEA DX,M1
INT 21H

MOV AH,01H
INT 21H
CALL VALIDITY
CMP AL,39H
JLE L1
SUB AL,07H
L1:SUB AL,30H
MOV CL,04H
SHL AL,CL
MOV BH,AL

MOV AH,01H
INT 21H
CALL VALIDITY
CMP AL,39H
JLE L2
SUB AL,07H
L2: SUB AL,30H
ADD BH,AL

MOV AH,01H
INT 21H
CALL VALIDITY
CMP AL,39H
JLE L3
SUB AL,07H
L3:SUB AL,30H
MOV CL,04H
SHL AL,CL
MOV BL,AL

MOV AH,01H
INT 21H
CALL VALIDITY
CMP AL,39H
JLE L4
SUB AL,07H
L4: SUB AL,30H
ADD BL,AL
RET
ACCEPT ENDP



VALIDITY PROC
CMP AL,30H
JL ERROR
CMP AL,46H
JG ERROR
CMP AL,3AH
JL PASS
CMP AL,40H
JG PASS

ERROR: MOV AH,09H
LEA DX,M3
INT 21H
MOV AH,4CH
INT 21H
PASS: RET
VALIDITY ENDP

HEXTOBCD PROC
MOV REM,BX

MOV AH,09H
LEA DX,M2
INT 21H

MOV AX,REM
MOV BX,10000
MOV DX,0
DIV BX
MOV REM,DX
ADD AL,30H
MOV DL,AL
MOV AH,02H
INT 21H

MOV AX,REM
MOV BX,1000
MOV DX,0
DIV BX
MOV REM,DX
ADD AL,30H
MOV DL,AL
MOV AH,02H
INT 21H

MOV AX,REM
MOV BX,100
MOV DX,0
DIV BX
MOV REM,DX
ADD AL,30H
MOV DL,AL
MOV AH,02H
INT 21H

MOV AX,REM
MOV BX,10
MOV DX,0
DIV BX
MOV REM,DX
ADD AL,30H
MOV DL,AL
MOV AH,02H
INT 21H

MOV AX,REM
MOV BX,1
MOV DX,0
DIV BX
MOV REM,DX
ADD AL,30H
MOV DL,AL
MOV AH,02H
INT 21H
RET
HEXTOBCD ENDP

ACCEPT1 PROC
MOV AH,09H
LEA DX,M4
INT 21H

MOV AH,01H
INT 21H
CALL VALIDITY1
CMP AL,39H
JLE Q1
Q1: SUB AL,30H
MOV AH,00H
MOV BX,1000
MUL BX
MOV CX,AX
MOV AH,01H
INT 21H
CALL VALIDITY1
CMP AL,39H
JLE Q2
Q2: SUB AL,30H
MOV AH,00H
MOV BX,100
MUL BX
ADD CX,AX

MOV AH,01H
INT 21H
CALL VALIDITY1
CMP AL,39H
JLE Q3
Q3:SUB AL,30H
MOV AH,00H
MOV BX,10
MUL BX
ADD CX,AX

MOV AH,01H
INT 21H
CALL VALIDITY1
CMP AL,39H
JLE Q4
Q4: SUB AL,30H
MOV AH,00H
MOV BX,1
MUL BX
ADD CX,AX
MOV TEMP,CX
MOV AX,TEMP
MOV AH,09H
LEA DX,M5
INT 21H


MOV BX,TEMP
MOV TEMP1,BH
CALL BCDTOHEX
MOV BX,TEMP
MOV TEMP1,BL
CALL BCDTOHEX

RET
ACCEPT1 ENDP


VALIDITY1 PROC
CMP AL,30H
JL ERROR1
CMP AL,39H
JG ERROR1
CMP AL,39H
JLE PASS1
CMP AL,30H
JGE PASS1

ERROR1: MOV AH,09H
LEA DX,M3
INT 21H
MOV AH,4CH
INT 21H
RET

PASS1: RET

VALIDITY1 ENDP

BCDTOHEX PROC
MOV AL,TEMP1
MOV CL,04H
SHR AL,CL
CMP AL,39H
JLE T1
ADD AL,07H
T1:ADD AL,30H
MOV DL,AL
MOV AH,02H
INT 21H

MOV AL,TEMP1
AND AL,0FH
CMP AL,39H
JLE T2
T2:ADD AL,30H
MOV DL,AL
MOV AH,02H
INT 21H
RET
BCDTOHEX ENDP

CODE ENDS
END START